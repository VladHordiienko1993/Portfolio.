"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[207],{784:(e,s,t)=>{t.r(s),t.d(s,{default:()=>p});var a=t(43),i=t(464),n=t(3),r=t(932),c=t(125),o=t(139),d=t.n(o);const m={container:"ChatWindow_container__j9qJm",textPage:"ChatWindow_textPage__uIro-",divDiv:"ChatWindow_divDiv__E09-F",message:"ChatWindow_message__Eg67v",currentUser:"ChatWindow_currentUser__Ms2t6",otherUser:"ChatWindow_otherUser__Edmli",form:"ChatWindow_form__VW2S4",input:"ChatWindow_input__t33dD",wrapperButtons:"ChatWindow_wrapperButtons__JbqzJ",buttonUser:"ChatWindow_buttonUser__Y0Hpf",messageContainer:"ChatWindow_messageContainer__V-Lj3",textMessage:"ChatWindow_textMessage__5Q7Qb",timestamp:"ChatWindow_timestamp__D2C1A",imgUser:"ChatWindow_imgUser__1VWJY",inputWrapper:"ChatWindow_inputWrapper__9Rd5b"};var l=t(892);const u=t.p+"static/media/LogoRobot1.42bd76f65344f8981adf.jpg",h=t.p+"static/media/LogoRobot2.587072e549f1296c28a0.png";var _=t(918),x=t(579);const g=()=>{const e=(0,n.wA)(),s=(0,n.d4)((e=>e.users.users)),t=(0,n.d4)((e=>e.chats.chat)),i=(0,n.d4)((e=>e.chats.messages)),o=(0,n.d4)((e=>e.chats.bot1)),g=(0,n.d4)((e=>e.chats.bot2)),p=(0,a.useRef)(null);(0,a.useEffect)((()=>{e((0,r.dE)()),e((0,c.Sc)())}),[e]),(0,a.useEffect)((()=>{t&&e((0,c.Oz)({chatId:t}))}),[e,t]),(0,a.useEffect)((()=>{s.id&&C(s.id)}),[s.id]);const[j,C]=(0,a.useState)(s.id),b=e=>{C(e)};(0,a.useEffect)((()=>{w()}),[i]);const w=()=>{p.current.scrollIntoView({behavior:"smooth"})};return(0,x.jsxs)("div",{className:m.container,children:[(0,x.jsx)("h2",{className:m.textPage,children:"Choose who you want to be"}),(0,x.jsxs)("div",{className:m.wrapperButtons,children:[(0,x.jsxs)("button",{className:m.buttonUser,onClick:()=>b(s.id),children:[" ",(0,x.jsx)("img",{className:m.imgUser,src:s.imgPath||_})," ",s.name]}),(0,x.jsxs)("button",{className:m.buttonUser,onClick:()=>b(2),children:[(0,x.jsx)("img",{className:m.imgUser,src:h})," ",o.name]}),(0,x.jsxs)("button",{className:m.buttonUser,onClick:()=>b(3),children:[(0,x.jsx)("img",{className:m.imgUser,src:u})," ",g.name]})]}),(0,x.jsxs)("div",{className:m.divDiv,children:[i.map((e=>{const t=e.userId===j,a=d()(m.message,{[m.currentUser]:t,[m.otherUser]:!t});let i;return 2===e.userId&&(i=h),3===e.userId&&(i=u),(0,x.jsxs)("div",{className:a,children:[console.log(j),(0,x.jsxs)("div",{className:m.messageContainer,children:[(0,x.jsxs)("h2",{className:m.textMessage,children:[(0,x.jsx)("img",{className:m.imgUser,src:e.userId===s.id?s.imgPath||_:2===e.userId?h:3===e.userId?u:null,alt:"User Avatar"}),e.text]}),(0,x.jsx)("span",{className:m.timestamp,children:new Date(e.createdAt).toLocaleTimeString()})]})]},e.id)})),(0,x.jsx)("div",{ref:p})]}),(0,x.jsx)(l.l1,{enableReinitialize:!0,onSubmit:(s,a)=>{e((0,c.nL)({text:s.text,userId:j,chatId:t})),a.resetForm()},initialValues:{text:""},children:e=>(0,x.jsxs)(l.lV,{className:m.form,children:[(0,x.jsxs)("div",{className:m.inputWrapper,children:[(0,x.jsx)("img",{className:m.imgUser,src:j===s.id?s.imgPath||_:2===j?h:3===j?u:null}),(0,x.jsx)(l.D0,{type:"text",name:"text",placeholder:"TEXT",className:m.input})]}),(0,x.jsx)(l.D0,{name:"submit",type:"submit",value:"Send",className:m.button})]})})]})},p=()=>{const{useSetClassName:e}=(0,a.useContext)(i.D),{classNamePage:s}=e();return(0,x.jsx)("div",{className:s(),children:(0,x.jsx)(g,{})})}}}]);
//# sourceMappingURL=207.bb469d84.chunk.js.map